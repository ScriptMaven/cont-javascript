<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="box" class="content">
      <p class="text">
        Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quibusdam
        minima temporibus ipsam magni in nulla, vel velit eligendi voluptatum.
        Optio maiores culpa fugiat a aliquid nesciunt quod laborum deleniti
        corporis. Voluptates maiores voluptate mollitia alias atque? Facere
        labore reiciendis illo repellat eum deserunt, consectetur illum unde
        incidunt saepe neque! Impedit cumque vero suscipit nisi corrupti?
        Officiis quidem nesciunt corporis sint accusantium dolorem! A in ullam
        sapiente alias. Expedita cum officia incidunt dolorem beatae harum
        omnis. Saepe excepturi accusantium laborum mollitia ipsum, quo aperiam,
        id ad omnis, tempore expedita enim ipsam itaque est iusto! Velit
        obcaecati hic at laudantium eaque enim ratione vel ut consectetur
        eveniet accusantium, similique laboriosam et. Ab, quisquam minima harum
        autem illo blanditiis. Unde incidunt at ullam commodi, in cupiditate quo
        error libero reiciendis ad. Neque obcaecati blanditiis cupiditate,
        excepturi quam nam, iste voluptate doloremque labore facilis iusto id
        minima cumque deserunt quos quas perferendis numquam accusamus? Placeat
        facere quos dolorum illum quisquam dolores consectetur asperiores harum
        ipsum veritatis voluptate fugiat provident incidunt, dolorem deleniti
        magnam voluptatum quo quia. Reiciendis sunt dolorum rerum rem quisquam
        unde possimus odio aut magnam libero. Assumenda exercitationem explicabo
        libero natus eius placeat id consectetur esse architecto odio molestiae,
        excepturi, vero illo consequatur amet. Corrupti non culpa adipisci ab
        doloremque, eaque quasi, ut ipsum veniam error quis cupiditate excepturi
        alias. Praesentium quidem omnis dolorem eius at iusto ducimus quo modi
        harum blanditiis corporis vel ex architecto sint, odio amet velit neque
        adipisci esse dignissimos error laudantium dolores. Quos, nemo. Sapiente
        obcaecati at harum facilis quo officia, in similique? Excepturi enim
        libero a culpa accusantium reprehenderit veniam doloribus non
        consequuntur mollitia eos vitae ex magni pariatur iusto, perferendis
        architecto est dicta animi voluptate. Soluta, corporis. Quae, voluptatem
        debitis eaque dolore modi quidem! Repellat, iste consectetur! Ducimus
        explicabo nobis illo consequatur, voluptatibus modi asperiores, debitis
        amet autem impedit similique consectetur hic aut! Itaque nisi cupiditate
        corrupti beatae doloribus eum optio recusandae at autem consequuntur.
        Nihil minima voluptatibus maiores nisi quis amet dolore aspernatur nam
        velit ad? Itaque nam architecto ea vitae odit consectetur consequuntur
        quae qui ducimus alias iusto dolor beatae et ratione eos at, omnis modi
        saepe natus laudantium nesciunt, porro dolorum ipsum unde! Ducimus
        doloremque esse porro magni libero neque sed consequuntur molestias
        placeat exercitationem quibusdam sint accusantium voluptatem dolore ipsa
        adipisci reiciendis totam corporis voluptate facilis minus harum,
        tempora aperiam pariatur? Maxime voluptatum tempora cum dolore eius
        officiis omnis beatae temporibus, iusto incidunt similique repellat
        dignissimos ipsa dolor? Ullam fugiat est commodi impedit ad neque
        blanditiis accusantium accusamus voluptatibus beatae, iure asperiores
        nesciunt, unde molestiae nostrum doloremque delectus explicabo quasi.
        Voluptatibus incidunt animi nemo quas sequi architecto, id ipsum,
        deserunt cum fuga autem voluptatum eum a, veritatis rerum? Eligendi
        dolorum quisquam alias, accusamus molestiae vel quos sequi doloremque
        assumenda. Magni laborum quod quaerat nobis quae reiciendis delectus
        repudiandae, esse iste. Eveniet molestias, facilis placeat soluta facere
        magni itaque culpa possimus nobis, quia numquam corrupti quas ducimus
        voluptates veritatis reiciendis non odit. Ratione, deserunt quo facilis
        tempora animi quidem tempore itaque obcaecati odio commodi dolor dolorum
        sequi fuga assumenda aspernatur at, molestiae error? Reprehenderit iure
        non voluptas blanditiis consequuntur ipsum dolorem nostrum repellendus
        illo explicabo. Debitis, explicabo aliquam magni velit laborum eius
        delectus mollitia totam iusto illo ratione hic blanditiis quisquam ea!
        Sit minima eaque vero reprehenderit sapiente dolore, quam explicabo
        atque! Harum eos iste facilis esse cum dolorum doloribus ducimus
        obcaecati veniam minima pariatur odit architecto eaque suscipit,
        repellendus corrupti? Illo voluptatum fuga sed porro, recusandae non
        molestiae fugit temporibus dignissimos! Nobis voluptates odio incidunt
        illo sed excepturi natus unde, distinctio alias impedit asperiores nisi
        laudantium. Aspernatur illo ducimus veritatis aperiam exercitationem
        voluptates quaerat, nemo nesciunt id corrupti minus eveniet odit iste
        dicta ipsum cumque non quia vero minima aliquid commodi ipsa officiis
        autem fuga? Cumque cupiditate consequuntur qui vel est earum consectetur
        omnis temporibus facere, quis perspiciatis itaque. Eligendi, natus nam
        qui eum debitis iste reprehenderit totam at voluptas ullam provident
        nobis distinctio doloribus sint dolore quibusdam ea explicabo cumque rem
        corporis, architecto fugit nulla. Libero iure eligendi nulla dolore
        pariatur rem quas quia voluptatem nemo facere? Consequuntur sunt maxime
        magnam fugiat recusandae? Natus voluptates commodi sit minus. Nemo,
        voluptates placeat repellat vitae distinctio, odit commodi ratione
        voluptatibus omnis eos illo modi. Praesentium necessitatibus tenetur
        placeat nostrum, ut ipsum saepe doloremque magnam sequi asperiores
        aliquid suscipit atque vitae sit commodi magni adipisci, quaerat fugiat
        iste accusantium. Officia velit, aperiam dolore illum rem minus in
        corporis doloremque temporibus nesciunt voluptate, nemo earum, cumque
        ipsam aliquam nobis dicta dignissimos! Sequi accusantium dolores
        laudantium vel vero voluptas natus at distinctio sapiente, rem illo
        animi alias provident perspiciatis aspernatur cupiditate accusamus
        impedit blanditiis iure, nostrum adipisci molestiae nemo minima?
        Incidunt distinctio quia minus harum, facilis velit deserunt debitis eum
        commodi quisquam tenetur doloribus itaque voluptates ut perspiciatis
        odio cumque dolorem minima quam magni! Qui consequuntur deleniti dolore
        itaque quos laudantium velit placeat vero ad. Inventore provident
        veritatis illum optio iusto placeat sed? Quis, laudantium veniam. Ad
        alias quam, omnis minus, perspiciatis vel hic quis sapiente repellat
        sint debitis nisi, similique possimus. Nisi, sed. Cupiditate,
        perspiciatis optio sapiente praesentium earum in eos debitis et, quae
        molestias nam voluptate ipsa. Iure animi minima, earum itaque dolor enim
        saepe suscipit deleniti necessitatibus, maxime, quo est provident
        soluta? Porro consequatur accusamus autem, alias nesciunt quo quasi.
        Itaque, impedit. Aliquid, quod necessitatibus laborum molestias quas
        rerum veniam minima adipisci deleniti iste quibusdam earum velit,
        repellat aut, aspernatur exercitationem corrupti sequi! Quidem ut rem ex
        vitae repellat? Quos pariatur accusamus quod. Asperiores quae
        dignissimos consequatur vero aspernatur consequuntur tempore expedita
        rerum, odit perferendis esse, vitae vel eaque. Expedita ab quos
        quibusdam consequatur illo corporis porro dolorum cumque vel veniam
        nihil at, cupiditate quasi, sit nisi. Inventore non accusantium
        repudiandae. Temporibus, minus. Maiores dolorum, a quibusdam ducimus
        iste excepturi dignissimos iusto, atque voluptatibus culpa est totam
        consequatur nostrum, doloremque natus sed? Reprehenderit est facilis
        omnis, nulla ut suscipit inventore aspernatur ex non eius corporis
        cupiditate, cum sapiente dolores ipsum minus accusamus nobis voluptatum
        minima saepe voluptate porro nam explicabo voluptas. Rem.
      </p>
    </div>
    <p></p>
    <script>
      // if ('geolocation' in navigator) {
      //     console.log('место доступно');
      // } else {
      //     console.log('место недоступно');
      // }
      //--------------------------------
      // console.log(navigator.geolocation);
      //--------------------------------
      //   navigator.geolocation.getCurrentPosition((position) => {
      //     const {latitude, longitude} = position.coords;
      //     console.log('Географические координаты устройства', latitude, longitude);
      //   },
      //   (error) => {
      //     console.error('Ошибка получения геолокации', error);
      //   }
      // );
      //--------------------------------
      //   navigator.geolocation.getCurrentPosition((position) => {
      //     console.log(position);
      //     const { latitude, longitude } = position.coords;
      //     console.log('Географические координаты устройства', latitude, longitude);
      //   });
      //--------------------------------
      //   let watchId = navigator.geolocation.watchPosition(({coords}) => {
      //     console.log('Устройство обновило местоположение', coords.latitude, coords.longitude);
      //   });
      //   navigator.geolocation.clearWatch(watchId);
      //--------------------------------
      //   const handlePositionError = (error) => {
      //     switch (error.code) {
      //       case 1:
      //         console.log('Пользователь ограничил доступ к местопложению.');
      //         break;
      //       case 2:
      //         console.log('Ошибка усройства определения местопложения.');
      //         break;
      //       case 3:
      //         console.log('Достигнут тайм-аут.');
      //         break;
      //       default:
      //         console.log('Извините, местопложение недоступно.', error);
      //         break;
      //     }
      //   };
      //--------------------------------
      //   const box = document.querySelector('#box');
      //   console.log(box.scrollTop, box.scrollLeft);

      //   box.scrollTop = 500;
      //--------------------------------
      //   const pEl = document.querySelector("p");
      //   console.log(document.documentElement.scrollHeight);
      //   console.log(document.documentElement.clientHeight);

      //   console.log(window.pageXOffset);

      //   document.addEventListener("scroll", function (e) {
      //     console.log(document.documentElement.scrollTop);
      //   });
      //   //   window.scrollBy(0, 20);
      //--------------------------------
      const contentEl = document.querySelector(".content");

      document.addEventListener("scroll", function (e) {
        const height = document.documentElement.offsetHeight;
        console.log(`----------------------Высота документа ${height}`);
        const screenHeight = document.documentElement.clientHeight;
        console.log(`Высота виимой области ${screenHeight}`);

        const scrolled = window.scrollY;
        console.log(`Сколько уже прокрутил ${scrolled}`);

        const threshold = height - screenHeight / 4;

        const position = scrolled + screenHeight;
        console.log(`Где находимся сейчас ${position}`);
        if (position >= threshold) {
          console.log("Добавить еще контент");
          const pText = document.createElement("p");
          pText.textContent = `lllllllllllllllllllllllllll`;
          contentEl.appendChild(pText);
        }
      });
    </script>
  </body>
</html>
